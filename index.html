<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 2026 Championship Hub (IST)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600;700&display=swap');
        
        :root {
            --f1-red: #e10600;
            --f1-dark: #15151e;
        }

        body {
            background-color: var(--f1-dark);
            color: #ffffff;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        .f1-font { font-family: 'Orbitron', sans-serif; }
        
        .card-gradient {
            background: linear-gradient(145deg, #1f1f2a, #15151e);
            border: 1px solid #333;
        }

        .sprint-badge {
            background: linear-gradient(90deg, #ff8c00, #e10600);
        }

        .next-race-glow {
            box-shadow: 0 0 20px rgba(225, 6, 0, 0.3);
            border: 2px solid var(--f1-red);
        }

        tr.main-row:hover { background-color: rgba(255, 255, 255, 0.05); cursor: pointer; }

        .details-row {
            background-color: rgba(0, 0, 0, 0.3);
            display: none;
        }

        .details-row.active {
            display: table-row;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #15151e; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--f1-red); }

        .f1-logo-img {
            height: 32px;
            width: auto;
            object-fit: contain;
        }

        @media (min-width: 768px) {
            .f1-logo-img { height: 40px; }
        }

        .view-counter {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            border: 1px solid #444;
            padding: 8px 16px;
            border-radius: 99px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
            backdrop-filter: blur(8px);
            color: #aaa;
            width: fit-content;
        }

        @media (min-width: 768px) {
            .view-counter { left: 20px; transform: none; }
        }

        .tab-btn.active {
            border-color: var(--f1-red);
            color: white;
            background: rgba(225, 6, 0, 0.1);
        }

        .rotate-icon {
            transition: transform 0.3s ease;
        }
        .active .rotate-icon {
            transform: rotate(180deg);
        }

        .mobile-schedule-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
        }
        @media (min-width: 768px) {
            .mobile-schedule-grid {
                grid-template-columns: repeat(5, 1fr);
                gap: 1rem;
            }
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="bg-black border-b-4 border-red-600 p-4 md:p-6 sticky top-0 z-50 shadow-2xl">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-3">
                <img src="https://i.ndtvimg.com/i/2017-11/f1-logo-2018_827x510_81511713381.png" alt="F1 Logo" class="f1-logo-img">
                <h1 class="text-xl md:text-3xl f1-font font-bold tracking-tighter">CHAMPIONSHIP <span class="text-red-600">2026</span></h1>
            </div>
            <div class="flex items-center gap-2 bg-zinc-800 px-4 py-1.5 rounded-full text-[10px] md:text-sm">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                <span>Timezone: <strong>IST (India)</strong></span>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8 space-y-8 md:space-y-12">

        <!-- Countdown Section -->
        <section id="countdown-container" class="hidden">
            <div class="card-gradient rounded-2xl md:rounded-3xl p-6 md:p-8 text-center next-race-glow">
                <p class="text-red-500 uppercase text-xs md:text-sm font-bold tracking-widest mb-2 md:mb-4">Up Next</p>
                <h2 id="next-race-name" class="text-xl md:text-5xl f1-font mb-4 md:mb-6 italic uppercase text-white">Loading...</h2>
                <div class="grid grid-cols-4 gap-2 md:gap-4 max-w-2xl mx-auto">
                    <div class="bg-zinc-900 p-2 md:p-4 rounded-lg md:rounded-xl border border-zinc-700">
                        <span id="days" class="text-lg md:text-5xl font-bold block text-white">00</span>
                        <span class="text-[8px] md:text-xs uppercase text-zinc-500">Days</span>
                    </div>
                    <div class="bg-zinc-900 p-2 md:p-4 rounded-lg md:rounded-xl border border-zinc-700">
                        <span id="hours" class="text-lg md:text-5xl font-bold block text-white">00</span>
                        <span class="text-[8px] md:text-xs uppercase text-zinc-500">Hours</span>
                    </div>
                    <div class="bg-zinc-900 p-2 md:p-4 rounded-lg md:rounded-xl border border-zinc-700">
                        <span id="minutes" class="text-lg md:text-5xl font-bold block text-white">00</span>
                        <span class="text-[8px] md:text-xs uppercase text-zinc-500">Mins</span>
                    </div>
                    <div class="bg-zinc-900 p-2 md:p-4 rounded-lg md:rounded-xl border border-zinc-700">
                        <span id="seconds" class="text-lg md:text-5xl font-bold block text-white">00</span>
                        <span class="text-[8px] md:text-xs uppercase text-zinc-500">Secs</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Search and Filter -->
        <section class="flex flex-col md:flex-row gap-4 justify-between items-stretch md:items-end">
            <div class="w-full md:w-1/3">
                <label class="block text-zinc-400 text-xs md:text-sm mb-2 ml-1">Search Circuit or City</label>
                <div class="relative">
                    <input type="text" id="searchInput" placeholder="e.g. Monza, Street..." class="w-full bg-zinc-900 border border-zinc-700 rounded-lg p-3 pl-10 focus:outline-none focus:border-red-600 text-sm text-white">
                    <i class="fas fa-search absolute left-3 top-3.5 text-zinc-500"></i>
                </div>
            </div>
            <div class="flex gap-2">
                <button onclick="filterRaces('all')" class="flex-1 md:flex-none bg-zinc-800 hover:bg-zinc-700 px-4 py-2 rounded-md text-xs md:text-sm transition-colors active">All Races</button>
                <button onclick="filterRaces('sprint')" class="flex-1 md:flex-none bg-orange-900/40 hover:bg-orange-800/60 text-orange-400 border border-orange-800 px-4 py-2 rounded-md text-xs md:text-sm transition-colors">Sprint Only</button>
            </div>
        </section>

        <!-- Race Table -->
        <section class="overflow-hidden card-gradient rounded-xl md:rounded-2xl shadow-xl">
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse min-w-full md:min-w-[900px]">
                    <thead class="bg-black/50 text-zinc-400 uppercase text-[9px] md:text-xs tracking-widest border-b border-zinc-800">
                        <tr>
                            <th class="p-3 md:p-5">Rnd</th>
                            <th class="p-3 md:p-5">Grand Prix</th>
                            <th class="p-3 md:p-5 hidden md:table-cell">Venue</th>
                            <th class="p-3 md:p-5">Date (IST)</th>
                            <th class="p-3 md:p-5 text-center">Type</th>
                            <th class="p-3 md:p-5 w-10"></th>
                        </tr>
                    </thead>
                    <tbody id="raceTableBody">
                        <!-- Data injected via JS -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Technical & Regulation Summary -->
        <section class="space-y-8 md:space-y-12 py-6">
            <div class="text-center space-y-3 px-4">
                <h2 class="text-3xl md:text-6xl f1-font font-bold tracking-tighter uppercase leading-tight">Formula 1 2026: <span class="text-red-600">The Global Reset</span></h2>
                <p class="text-zinc-400 text-sm md:text-base max-w-2xl mx-auto italic">FIA Goal: "Agile Racing" - Smaller, lighter cars for better battling.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                <!-- 1. Technical Revolution -->
                <div class="card-gradient p-6 md:p-8 rounded-2xl md:rounded-3xl border-t-4 border-red-600">
                    <h3 class="f1-font text-lg md:text-2xl mb-4 md:mb-6 flex items-center gap-3">
                        <i class="fas fa-microchip text-red-600"></i> 1. Technical Revolution: "Nimble Cars"
                    </h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4">
                        <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800">
                            <span class="text-red-500 font-bold block text-[10px] uppercase mb-1">Weight Reduction</span>
                            <span class="text-sm md:text-lg font-bold">Dropped by 30kg</span>
                            <span class="text-zinc-500 block text-xs">(to 768kg)</span>
                        </div>
                        <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800">
                            <span class="text-red-500 font-bold block text-[10px] uppercase mb-1">Dimensions</span>
                            <span class="text-sm md:text-lg font-bold">Shortened & Narrowed</span>
                            <span class="text-zinc-500 block text-xs">WB: -200mm | Width: -100mm</span>
                        </div>
                        <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800">
                            <span class="text-red-500 font-bold block text-[10px] uppercase mb-1">Tyres</span>
                            <span class="text-sm md:text-lg font-bold">Narrower Profile</span>
                            <span class="text-zinc-500 block text-xs">F: -25mm | R: -30mm</span>
                        </div>
                        <div class="bg-zinc-900/50 p-4 rounded-xl border border-zinc-800">
                            <span class="text-red-500 font-bold block text-[10px] uppercase mb-1">Aerodynamics</span>
                            <span class="text-sm md:text-lg font-bold">-30% Downforce</span>
                            <span class="text-zinc-500 block text-xs">-55% Drag reduction</span>
                        </div>
                    </div>
                </div>

                <!-- 2. Active Aerodynamics -->
                <div class="card-gradient p-6 md:p-8 rounded-2xl md:rounded-3xl border-t-4 border-red-600 flex flex-col">
                    <h3 class="f1-font text-lg md:text-2xl mb-2 flex items-center gap-3">
                        <i class="fas fa-wind text-red-600"></i> 2. Active Aerodynamics
                    </h3>
                    <p class="text-zinc-400 mb-4 md:mb-6 text-xs md:text-sm">DRS is replaced by Active Aero with movable front and rear wing flaps.</p>
                    
                    <div class="flex gap-1.5 md:gap-2 mb-4 overflow-x-auto pb-2">
                        <button onclick="showAero('z-mode')" id="btn-z-mode" class="tab-btn active px-3 py-1.5 border border-zinc-700 rounded-md text-[10px] font-bold whitespace-nowrap uppercase">Z-Mode</button>
                        <button onclick="showAero('x-mode')" id="btn-x-mode" class="tab-btn px-3 py-1.5 border border-zinc-700 rounded-md text-[10px] font-bold whitespace-nowrap uppercase">X-Mode</button>
                        <button onclick="showAero('override')" id="btn-override" class="tab-btn px-3 py-1.5 border border-zinc-700 rounded-md text-[10px] font-bold whitespace-nowrap uppercase">Manual Override</button>
                    </div>

                    <div id="aero-content" class="bg-black/40 p-4 md:p-6 rounded-xl flex-grow flex flex-col justify-center min-h-[100px] transition-opacity duration-200">
                        <h4 id="aero-title" class="f1-font text-sm md:text-lg text-red-500 mb-1">Z-Mode: Cornering</h4>
                        <p id="aero-desc" class="text-zinc-300 text-xs md:text-sm">Flaps closed for maximum downforce in turns.</p>
                    </div>
                </div>

                <!-- 3. Power Unit Evolution -->
                <div class="card-gradient p-6 md:p-8 rounded-2xl md:rounded-3xl border-t-4 border-red-600">
                    <h3 class="f1-font text-lg md:text-2xl mb-6 flex items-center gap-3">
                        <i class="fas fa-bolt text-red-600"></i> 3. Power Unit Evolution
                    </h3>
                    <div class="space-y-4">
                        <div class="flex items-start gap-3">
                            <div class="bg-zinc-800 text-red-600 p-2 rounded-lg text-xs"><i class="fas fa-sync"></i></div>
                            <div>
                                <span class="font-bold block text-sm">50/50 Power Split</span>
                                <span class="text-xs text-zinc-400">Equal balance between ICE and Electric (MGU-K).</span>
                            </div>
                        </div>
                        <div class="flex items-start gap-3">
                            <div class="bg-zinc-800 text-red-600 p-2 rounded-lg text-xs"><i class="fas fa-plug"></i></div>
                            <div>
                                <span class="font-bold block text-sm">MGU-K Power Surge</span>
                                <span class="text-xs text-zinc-400">Increased to 350kW (approx. 470hp).</span>
                            </div>
                        </div>
                        <div class="flex items-start gap-3">
                            <div class="bg-zinc-800 text-red-600 p-2 rounded-lg text-xs"><i class="fas fa-flask"></i></div>
                            <div>
                                <span class="font-bold block text-sm">100% Sustainable Fuel</span>
                                <span class="text-xs text-zinc-400">Carbon-neutral drop-in fuels introduced.</span>
                            </div>
                        </div>
                        <div class="flex items-start gap-3">
                            <div class="bg-zinc-800 text-red-600 p-2 rounded-lg text-xs"><i class="fas fa-minus-circle"></i></div>
                            <div>
                                <span class="font-bold block text-sm">MGU-H Removal</span>
                                <span class="text-xs text-zinc-400">Complex heat recovery system removed for simplification.</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4. Confirmed 2026 Driver Grid -->
                <div class="card-gradient p-6 md:p-8 rounded-2xl md:rounded-3xl border-t-4 border-red-600">
                    <h3 class="f1-font text-lg md:text-2xl mb-6 flex items-center gap-3">
                        <i class="fas fa-users text-red-600"></i> 4. Confirmed 2026 Driver Grid
                    </h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Red Bull</span><p class="text-xs">Verstappen</p><p class="text-xs text-zinc-500">Hadjar</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Ferrari</span><p class="text-xs">Hamilton</p><p class="text-xs text-zinc-500">Leclerc</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">McLaren</span><p class="text-xs">Norris</p><p class="text-xs text-zinc-500">Piastri</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Mercedes</span><p class="text-xs">Russell</p><p class="text-xs text-zinc-500">Antonelli</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Aston Martin</span><p class="text-xs">Alonso</p><p class="text-xs text-zinc-500">Stroll</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Audi</span><p class="text-xs">Hülkenberg</p><p class="text-xs text-zinc-500">Bortoleto</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Cadillac</span><p class="text-xs">Pérez</p><p class="text-xs text-zinc-500">Bottas</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Williams</span><p class="text-xs">Sainz</p><p class="text-xs text-zinc-500">Albon</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Alpine</span><p class="text-xs">Gasly</p><p class="text-xs text-zinc-500">Colapinto</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Haas</span><p class="text-xs">Ocon</p><p class="text-xs text-zinc-500">Bearman</p></div>
                        <div class="p-3 bg-black/50 rounded-lg border border-zinc-800"><span class="text-red-500 font-bold block text-[9px] uppercase mb-1">Racing Bulls</span><p class="text-xs">Lawson</p><p class="text-xs text-zinc-500">Lindblad</p></div>
                    </div>
                </div>

                <!-- 5. Major Calendar Changes -->
                <div class="card-gradient p-6 md:p-8 rounded-2xl md:rounded-3xl border-t-4 border-red-600">
                    <h3 class="f1-font text-lg md:text-2xl mb-6 flex items-center gap-3">
                        <i class="fas fa-calendar-alt text-red-600"></i> 5. Major Calendar Changes
                    </h3>
                    <div class="space-y-4">
                        <div class="bg-zinc-900/40 p-4 rounded-xl border-l-4 border-red-600">
                            <span class="block text-xs font-bold text-red-500 uppercase mb-1">Madrid Debut</span>
                            <p class="text-xs text-zinc-400">Spanish GP moves to a new street circuit in Madrid (Barcelona retains a slot).</p>
                        </div>
                        <div class="bg-zinc-900/40 p-4 rounded-xl border-l-4 border-red-600">
                            <span class="block text-xs font-bold text-red-500 uppercase mb-1">Triple Header Finale</span>
                            <p class="text-xs text-zinc-400">Season ends with a sprint: Las Vegas, Qatar, and Abu Dhabi.</p>
                        </div>
                        <div class="bg-zinc-900/40 p-4 rounded-xl border-l-4 border-red-600">
                            <span class="block text-xs font-bold text-red-500 uppercase mb-1">Baku Shift</span>
                            <p class="text-xs text-zinc-400">Azerbaijan GP will be held on a Saturday for the first time.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div class="view-counter">
        <i class="fas fa-eye text-red-600"></i>
        <span>Live Views: <strong id="viewCount" class="text-white">1,248</strong></span>
    </div>

    <script>
        const races = [
            { rnd: 1, gp: "Australian", venue: "Melbourne", date: "2026-03-08", time: "09:30 AM", type: "Standard", schedule: { p1: "06-Mar, 07:00 AM", p2: "06-Mar, 10:30 AM", p3: "07-Mar, 07:00 AM", q: "07-Mar, 10:30 AM", r: "08-Mar, 09:30 AM" }},
            { rnd: 2, gp: "Chinese", venue: "Shanghai", date: "2026-03-15", time: "12:30 PM", type: "Sprint", schedule: { p1: "13-Mar, 09:00 AM", ss: "13-Mar, 12:30 PM", s: "14-Mar, 09:00 AM", q: "14-Mar, 12:30 PM", r: "15-Mar, 12:30 PM" }},
            { rnd: 3, gp: "Japanese", venue: "Suzuka", date: "2026-03-29", time: "10:30 AM", type: "Standard", schedule: { p1: "27-Mar, 08:00 AM", p2: "27-Mar, 11:30 AM", p3: "28-Mar, 08:00 AM", q: "28-Mar, 11:30 AM", r: "29-Mar, 10:30 AM" }},
            { rnd: 4, gp: "Bahrain", venue: "Sakhir", date: "2026-04-12", time: "08:30 PM", type: "Standard", schedule: { p1: "10-Apr, 04:00 PM", p2: "10-Apr, 07:30 PM", p3: "11-Apr, 05:00 PM", q: "11-Apr, 08:30 PM", r: "12-Apr, 08:30 PM" }},
            { rnd: 5, gp: "Saudi Arabian", venue: "Jeddah", date: "2026-04-19", time: "10:30 PM", type: "Standard", schedule: { p1: "17-Apr, 06:00 PM", p2: "17-Apr, 09:30 PM", p3: "18-Apr, 07:00 PM", q: "18-Apr, 10:30 PM", r: "19-Apr, 10:30 PM" }},
            { rnd: 6, gp: "Miami", venue: "Miami", date: "2026-05-04", time: "01:30 AM", type: "Sprint", schedule: { p1: "02-May, 10:00 PM", ss: "03-May, 01:30 AM", s: "03-May, 10:00 PM", q: "04-May, 01:30 AM", r: "04-May, 01:30 AM" }},
            { rnd: 7, gp: "Canadian", venue: "Montreal", date: "2026-05-25", time: "01:30 AM", type: "Sprint", schedule: { p1: "23-May, 11:00 PM", ss: "24-May, 02:30 AM", s: "24-May, 11:30 PM", q: "25-May, 02:30 AM", r: "25-May, 01:30 AM" }},
            { rnd: 8, gp: "Monaco", venue: "Monte Carlo", date: "2026-06-07", time: "06:30 PM", type: "Standard", schedule: { p1: "05-Jun, 05:00 PM", p2: "05-Jun, 08:30 PM", p3: "06-Jun, 04:00 PM", q: "06-Jun, 07:30 PM", r: "07-Jun, 06:30 PM" }},
            { rnd: 9, gp: "Barcelona", venue: "Barcelona", date: "2026-06-14", time: "06:30 PM", type: "Standard", schedule: { p1: "12-Jun, 05:00 PM", p2: "12-Jun, 08:30 PM", p3: "13-Jun, 04:00 PM", q: "13-Jun, 07:30 PM", r: "14-Jun, 06:30 PM" }},
            { rnd: 10, gp: "Austrian", venue: "Spielberg", date: "2026-06-28", time: "06:30 PM", type: "Standard", schedule: { p1: "26-Jun, 05:00 PM", p2: "26-Jun, 08:30 PM", p3: "27-Jun, 04:00 PM", q: "27-Jun, 07:30 PM", r: "28-Jun, 06:30 PM" }},
            { rnd: 11, gp: "British", venue: "Silverstone", date: "2026-07-05", time: "07:30 PM", type: "Sprint", schedule: { p1: "03-Jul, 05:00 PM", ss: "03-Jul, 08:30 PM", s: "04-Jul, 04:00 PM", q: "04-Jul, 07:30 PM", r: "05-Jul, 07:30 PM" }},
            { rnd: 12, gp: "Belgian", venue: "Spa", date: "2026-07-19", time: "06:30 PM", type: "Standard", schedule: { p1: "17-Jul, 05:00 PM", p2: "17-Jul, 08:30 PM", p3: "18-Jul, 04:00 PM", q: "18-Jul, 07:30 PM", r: "19-Jul, 06:30 PM" }},
            { rnd: 13, gp: "Hungarian", venue: "Budapest", date: "2026-07-26", time: "06:30 PM", type: "Standard", schedule: { p1: "24-Jul, 05:00 PM", p2: "24-Jul, 08:30 PM", p3: "25-Jul, 04:00 PM", q: "25-Jul, 07:30 PM", r: "26-Jul, 06:30 PM" }},
            { rnd: 14, gp: "Dutch", venue: "Zandvoort", date: "2026-08-23", time: "06:30 PM", type: "Sprint", schedule: { p1: "21-Aug, 05:00 PM", ss: "21-Aug, 08:30 PM", s: "22-Aug, 04:00 PM", q: "22-Aug, 07:30 PM", r: "23-Aug, 06:30 PM" }},
            { rnd: 15, gp: "Italian", venue: "Monza", date: "2026-09-06", time: "06:30 PM", type: "Standard", schedule: { p1: "04-Sep, 05:00 PM", p2: "04-Sep, 08:30 PM", p3: "05-Sep, 04:00 PM", q: "05-Sep, 07:30 PM", r: "06-Sep, 06:30 PM" }},
            { rnd: 16, gp: "Spanish", venue: "Madrid", date: "2026-09-13", time: "06:30 PM", type: "Standard", schedule: { p1: "11-Sep, 05:00 PM", p2: "11-Sep, 08:30 PM", p3: "12-Sep, 04:00 PM", q: "12-Sep, 07:30 PM", r: "13-Sep, 06:30 PM" }},
            { rnd: 17, gp: "Azerbaijan", venue: "Baku", date: "2026-09-26", time: "04:30 PM", type: "Standard", schedule: { p1: "25-Sep, 03:00 PM", p2: "25-Sep, 06:30 PM", p3: "26-Sep, 02:00 PM", q: "26-Sep, 05:30 PM", r: "26-Sep, 04:30 PM" }},
            { rnd: 18, gp: "Singapore", venue: "Singapore", date: "2026-10-11", time: "05:30 PM", type: "Sprint", schedule: { p1: "09-Oct, 03:00 PM", ss: "09-Oct, 06:30 PM", s: "10-Oct, 03:00 PM", q: "10-Oct, 06:30 PM", r: "11-Oct, 05:30 PM" }},
            { rnd: 19, gp: "United States", venue: "Austin", date: "2026-10-26", time: "01:30 AM", type: "Standard", schedule: { p1: "24-Oct, 11:00 PM", p2: "25-Oct, 02:30 AM", p3: "25-Oct, 11:00 PM", q: "26-Oct, 02:30 AM", r: "26-Oct, 01:30 AM" }},
            { rnd: 20, gp: "Mexico City", venue: "Mexico City", date: "2026-11-02", time: "01:30 AM", type: "Standard", schedule: { p1: "31-Oct, 11:00 PM", p2: "01-Nov, 02:30 AM", p3: "01-Nov, 11:00 PM", q: "02-Nov, 02:30 AM", r: "02-Nov, 01:30 AM" }},
            { rnd: 21, gp: "São Paulo", venue: "Interlagos", date: "2026-11-08", time: "10:30 PM", type: "Standard", schedule: { p1: "06-Nov, 08:00 PM", p2: "06-Nov, 11:30 PM", p3: "07-Nov, 08:00 PM", q: "07-Nov, 11:30 PM", r: "08-Nov, 10:30 PM" }},
            { rnd: 22, gp: "Las Vegas", venue: "Las Vegas", date: "2026-11-22", time: "09:30 AM", type: "Standard", schedule: { p1: "20-Nov, 08:00 AM", p2: "20-Nov, 11:30 AM", p3: "21-Nov, 08:00 AM", q: "21-Nov, 11:30 AM", r: "22-Nov, 09:30 AM" }},
            { rnd: 23, gp: "Qatar", venue: "Lusail", date: "2026-11-29", time: "09:30 PM", type: "Standard", schedule: { p1: "27-Nov, 05:00 PM", p2: "27-Nov, 08:30 PM", p3: "28-Nov, 06:00 PM", q: "28-Nov, 09:30 PM", r: "29-Nov, 09:30 PM" }},
            { rnd: 24, gp: "Abu Dhabi", venue: "Abu Dhabi", date: "2026-12-06", time: "06:30 PM", type: "Standard", schedule: { p1: "04-Dec, 03:00 PM", p2: "04-Dec, 06:30 PM", p3: "05-Dec, 04:00 PM", q: "05-Dec, 07:30 PM", r: "06-Dec, 06:30 PM" }}
        ];

        function toggleDetails(rnd) {
            const row = document.getElementById(`details-${rnd}`);
            const main = document.getElementById(`main-${rnd}`);
            const isActive = row.classList.contains('active');
            document.querySelectorAll('.details-row').forEach(r => r.classList.remove('active'));
            document.querySelectorAll('.main-row').forEach(r => r.classList.remove('active'));
            if (!isActive) {
                row.classList.add('active');
                main.classList.add('active');
            }
        }

        function renderRaces(filter = 'all', search = '') {
            const tbody = document.getElementById('raceTableBody');
            tbody.innerHTML = '';
            const filtered = races.filter(race => {
                const matchesFilter = filter === 'all' || race.type.toLowerCase() === filter;
                const matchesSearch = race.gp.toLowerCase().includes(search.toLowerCase()) || race.venue.toLowerCase().includes(search.toLowerCase());
                return matchesFilter && matchesSearch;
            });

            filtered.forEach(race => {
                const isSprint = race.type === 'Sprint';
                const mainRow = document.createElement('tr');
                mainRow.id = `main-${race.rnd}`;
                mainRow.className = 'main-row border-b border-zinc-800 transition-all';
                mainRow.onclick = () => toggleDetails(race.rnd);
                
                const formattedDate = new Date(race.date).toLocaleDateString('en-GB', { day: '2-digit', month: 'short' });

                mainRow.innerHTML = `
                    <td class="p-3 md:p-5 font-bold text-zinc-500 text-xs">${race.rnd}</td>
                    <td class="p-3 md:p-5">
                        <span class="f1-font font-bold block text-xs md:text-sm uppercase">${race.gp}</span>
                        <span class="text-[9px] text-zinc-500 block mt-0.5">${race.venue}</span>
                    </td>
                    <td class="p-3 md:p-5 text-zinc-400 hidden md:table-cell text-xs">${race.venue}</td>
                    <td class="p-3 md:p-5">
                        <span class="text-zinc-200 text-xs block">${formattedDate}</span>
                        <span class="text-red-500 font-bold text-[10px] block">${race.time}</span>
                    </td>
                    <td class="p-3 md:p-5 text-center">
                        ${isSprint ? '<span class="sprint-badge text-[8px] px-1.5 py-0.5 rounded text-white font-bold italic uppercase">Sprint</span>' : '<span class="bg-zinc-700 text-[8px] px-1.5 py-0.5 rounded text-zinc-300 font-bold uppercase">Main</span>'}
                    </td>
                    <td class="p-3 md:p-5 text-zinc-500 text-right"><i class="fas fa-chevron-down rotate-icon text-xs"></i></td>
                `;
                
                const s = race.schedule;
                const detailsRow = document.createElement('tr');
                detailsRow.id = `details-${race.rnd}`;
                detailsRow.className = 'details-row border-b border-zinc-800';
                detailsRow.innerHTML = `
                    <td colspan="6" class="p-0">
                        <div class="p-4 md:p-6 mobile-schedule-grid bg-zinc-950/50">
                            <div class="flex md:block items-center justify-between border-l-2 border-zinc-700 pl-3 py-1">
                                <div><span class="text-[9px] uppercase text-zinc-500 font-bold block">Practice 1</span><span class="text-[9px] text-zinc-400">${s.p1.split(', ')[0]}</span></div>
                                <span class="text-xs font-semibold text-white">${s.p1.split(', ')[1]}</span>
                            </div>
                            <div class="flex md:block items-center justify-between border-l-2 border-zinc-700 pl-3 py-1">
                                <div><span class="text-[9px] uppercase text-zinc-500 font-bold block">${isSprint ? 'Sprint Shootout' : 'Practice 2'}</span><span class="text-[9px] text-zinc-400">${(isSprint ? s.ss : s.p2).split(', ')[0]}</span></div>
                                <span class="text-xs font-semibold text-white">${(isSprint ? s.ss : s.p2).split(', ')[1]}</span>
                            </div>
                            <div class="flex md:block items-center justify-between border-l-2 border-zinc-700 pl-3 py-1">
                                <div><span class="text-[9px] uppercase text-zinc-500 font-bold block">${isSprint ? 'Sprint Race' : 'Practice 3'}</span><span class="text-[9px] text-zinc-400">${(isSprint ? s.s : s.p3).split(', ')[0]}</span></div>
                                <span class="text-xs font-semibold ${isSprint ? 'text-orange-400' : 'text-white'}">${(isSprint ? s.s : s.p3).split(', ')[1]}</span>
                            </div>
                            <div class="flex md:block items-center justify-between border-l-2 border-zinc-700 pl-3 py-1">
                                <div><span class="text-[9px] uppercase text-zinc-500 font-bold block">Qualifying</span><span class="text-[9px] text-zinc-400">${s.q.split(', ')[0]}</span></div>
                                <span class="text-xs font-semibold text-red-500">${s.q.split(', ')[1]}</span>
                            </div>
                            <div class="flex md:block items-center justify-between border-l-4 border-red-600 pl-3 py-2 bg-red-600/10 rounded-r-md">
                                <div><span class="text-[9px] uppercase text-red-600 font-bold block italic">Grand Prix</span><span class="text-[9px] text-red-400">${s.r.split(', ')[0]}</span></div>
                                <span class="text-sm font-black text-white">${s.r.split(', ')[1]}</span>
                            </div>
                        </div>
                    </td>
                `;
                tbody.appendChild(mainRow);
                tbody.appendChild(detailsRow);
            });
        }

        function filterRaces(type) {
            renderRaces(type, document.getElementById('searchInput').value);
            document.querySelectorAll('.flex > button').forEach(btn => btn.classList.toggle('active', btn.getAttribute('onclick').includes(type)));
        }

        document.getElementById('searchInput').addEventListener('input', (e) => renderRaces('all', e.target.value));

        function updateCountdown() {
            const now = new Date();
            const nextRace = races.find(r => new Date(r.date + " " + r.time.replace(" PM", ":00").replace(" AM", ":00")) > now);
            if (nextRace) {
                const targetDate = new Date(nextRace.date + " " + nextRace.time.replace(" PM", ":00").replace(" AM", ":00"));
                const diff = targetDate - now;
                document.getElementById('countdown-container').classList.remove('hidden');
                document.getElementById('next-race-name').innerText = nextRace.gp;
                document.getElementById('days').innerText = String(Math.floor(diff / (1000 * 60 * 60 * 24))).padStart(2, '0');
                document.getElementById('hours').innerText = String(Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, '0');
                document.getElementById('minutes').innerText = String(Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
                document.getElementById('seconds').innerText = String(Math.floor((diff % (1000 * 60)) / 1000)).padStart(2, '0');
            }
        }

        const aeroModes = {
            'z-mode': { title: 'Z-Mode: Cornering', desc: 'Flaps closed for maximum downforce in turns.' },
            'x-mode': { title: 'X-Mode: Straight-line', desc: 'Flaps open to minimize drag for top speed on straights.' },
            'override': { title: 'Manual Override', desc: 'Provides a burst of extra battery power (350kW) for following car when within 1s.' }
        };

        function showAero(mode) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-${mode}`).classList.add('active');
            const content = document.getElementById('aero-content');
            content.style.opacity = 0;
            setTimeout(() => {
                document.getElementById('aero-title').innerText = aeroModes[mode].title;
                document.getElementById('aero-desc').innerText = aeroModes[mode].desc;
                content.style.opacity = 1;
            }, 150);
        }

        window.onload = () => {
            renderRaces();
            updateCountdown();
            setInterval(updateCountdown, 1000);
            showAero('z-mode');
            setInterval(() => {
                const count = document.getElementById('viewCount');
                count.innerText = (parseInt(count.innerText.replace(',','')) + Math.floor(Math.random() * 3)).toLocaleString();
            }, 5000);
        };
    </script>
</body>
</html>
